name: Windows

on: [push]

jobs:
  build:

    runs-on: windows-latest

    steps:
    - uses: actions/checkout@v2

    - name: build debug
      run: |
        mkdir ./out.d
        cd ./out.d
        cmake .. -DCMAKE_BUILD_TYPE=Debug
        cmake --build . --config Debug
        ./rua_test_11.exe
        ./rua_test_14.exe
        ./rua_test_17.exe
        ./rua_test_20.exe

    - name: build release
      run: |
        mkdir ./out
        cd ./out
        cmake .. -DCMAKE_BUILD_TYPE=Release
        cmake --build . --config Release
        ./rua_test_11.exe
        ./rua_test_14.exe
        ./rua_test_17.exe
        ./rua_test_20.exe
